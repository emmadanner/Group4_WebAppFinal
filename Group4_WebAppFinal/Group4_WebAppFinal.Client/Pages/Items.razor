@page "/items"
@using Group4_WebAppFinal.Model
@inject HttpClient httpItem

<PageTitle>Item Bag</PageTitle>

<h1>Item Bag</h1>

<h3>Item Bag Contents: </h3>

<FluentDataGrid Items="@items">
    <PropertyColumn Property="@(p => p.BagID)" Sortable="true" />
    <PropertyColumn Property="@(p => p.ItemName)" Sortable="true" />
    <PropertyColumn Property="@(p => p.ItemQuantity)" Sortable="true" />
    <PropertyColumn Property="@(p => p.Description)" Sortable="true" />
</FluentDataGrid>
@code {
    string? value1, value2, value3;
    
    IQueryable<ItemViewModel> items { get; set; }

    protected override async Task OnParametersSetAsync()
    {
        items = (await httpItem.GetFromJsonAsync<List<ItemViewModel>>("/api/items")).AsQueryable();
    }
}